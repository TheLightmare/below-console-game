{
    "id": "merchant",
    "name": "Merchant",
    "description": "A trader with goods for sale",
    "category": "npc",
    "tags": ["friendly", "humanoid", "merchant", "trader"],
    
    "components": {
        "render": {
            "char": "M",
            "color": "yellow",
            "priority": 6
        },
        "stats": {
            "level": 2,
            "hp_base": 25,
            "hp_per_level": 8,
            "attack_base": 3,
            "attack_per_level": 1,
            "defense_base": 3,
            "defense_per_level": 1
        },
        "name": {
            "name": "Merchant",
            "description": "A trader with various wares"
        },
        "ai": {
            "behavior": "idle",
            "aggro_range": 5.0,
            "flee_threshold": 0.4
        },
        "collision": {
            "blocks_movement": true,
            "blocks_sight": false
        },
        "faction": {
            "faction": "villager"
        },
        "utility_ai": {
            "preset": "merchant"
        },
        "anatomy": {
            "preset": "humanoid"
        },
        "npc": {
            "disposition": "friendly",
            "role": "merchant",
            "greeting": "Welcome to my shop!",
            "farewell": "Come back anytime!",
            "can_trade": true
        },
        "inventory": {
            "max_items": 30,
            "gold": 200
        },
        "dialogue": {
            "start_node_id": 0,
            "nodes": [
                {
                    "id": 0,
                    "speaker": "Merchant",
                    "text": "Welcome, welcome! I have the finest wares in all the land. What can I interest you in today?",
                    "options": [
                        { "text": "Show me what you have.", "next": 1, "action": "trade" },
                        { "text": "What news do you have?", "next": 2 },
                        { "text": "Just browsing. Goodbye.", "next": -1, "ends": true }
                    ]
                },
                {
                    "id": 1,
                    "speaker": "Merchant",
                    "text": "Excellent choice! Take your time and browse my selection.",
                    "options": [
                        { "text": "Thanks!", "next": -1, "ends": true }
                    ]
                },
                {
                    "id": 2,
                    "speaker": "Merchant",
                    "text": "Business has been slow lately. Too many monsters scaring away the travelers. If you're looking to make some coin, there's always work for adventurers willing to clear out the beasts.",
                    "options": [
                        { "text": "Maybe I'll look into that.", "next": 0 },
                        { "text": "Thanks for the tip. Goodbye.", "next": -1, "ends": true }
                    ]
                }
            ]
        },
        "shop": {
            "buy_multiplier": 1.0,
            "sell_multiplier": 0.5,
            "restocks": true,
            "restock_interval": 100,
            "items": [
                { "template_id": "iron_dagger", "name": "Iron Dagger", "price": 25 },
                { "template_id": "short_sword", "name": "Short Sword", "price": 50 },
                { "template_id": "long_sword", "name": "Long Sword", "price": 100 },
                { "template_id": "battle_axe", "name": "Battle Axe", "price": 150 },
                { "template_id": "hunting_bow", "name": "Hunting Bow", "price": 60 },
                { "template_id": "crossbow", "name": "Crossbow", "price": 120 },
                { "template_id": "arrows", "name": "Arrows (20)", "price": 20 },
                { "template_id": "bolts", "name": "Bolts (15)", "price": 30 },
                { "template_id": "leather_cap", "name": "Leather Cap", "price": 30 },
                { "template_id": "leather_armor", "name": "Leather Armor", "price": 60 },
                { "template_id": "iron_helmet", "name": "Iron Helmet", "price": 75 },
                { "template_id": "chain_mail", "name": "Chain Mail", "price": 120 },
                { "template_id": "wooden_shield", "name": "Wooden Shield", "price": 40 },
                { "template_id": "health_potion", "name": "Health Potion", "price": 25 },
                { "template_id": "greater_health_potion", "name": "Greater Health Potion", "price": 60 },
                { "template_id": "mutagen", "name": "Mutagen", "price": 10 },
                { "template_id": "body_swap_potion", "name": "Body Swap Potion", "price": 15 },
                { "template_id": "soul_swap_potion", "name": "Soul Swap Potion", "price": 20 }
            ]
        },
        "interactable": {
            "message": "Press E to trade"
        }
    }
}
